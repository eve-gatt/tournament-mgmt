extends ../../layout/tournament-layout

block append styles
    style.
        .teams table {
            margin-bottom: 12px;
        }

        .teams table td:nth-child(3) {
            text-align: center;
        }

        .teams table td:nth-child(4) {
            text-align: right;
        }

        .teams .team-name {
            display: flex;
            align-items: center;
        }

        .teams .team-name img {
            max-width: 18px;
            max-height: 18px;
            margin: 0 6px;
        }

block content
    - var uuid = tournament.getString("uuid")
    - var isSuperuser = character.getBoolean("isSuperuser")
    - var isCreator = tournament.getBoolean("is_creator")
    - var roles = tournament.getString("roles") == null ? "" : tournament.getString("roles")
    - var canImport = isSuperuser || isCreator || roles.contains("organiser")

    mixin subtitle("Teams")

    .teams
        p.no-teams This tournament doesn't have any teams registered.
        table.pure-table
            thead
                th Name
                th Captain
                th Locked
                th Members
                th Actions
                th Problems
            tbody
        if canImport
            a(href="/auth/tournament/" + uuid + "/teams/import") Import teams

block scripts
    script.
        const uuid = '#{uuid}';
    script(src='/js/teams/manage.js')
